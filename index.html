<!DOCTYPE html>
<!-- Main project-->



<!-- 
<meta name="color-scheme" content="dark"> 
-->

<meta name="color-scheme" content="dark">

<!-- Start writing JavaScript code -->
<script>

// ====== DATA ======
var glossary = [];  // array of word objects [] brackets are empty and inside there the array will go.
var playing = true; // Use of boolean to be able to quit the program. (actually i added this for the cause that it was part of the course, and i dont understand how i could use it in a better way)

// ====== FUNCTIONS ======
function addWord() {  // function is a block of code that performs a specific task // Can we reuse functions? in this case addWord. // it will be number 1 in the "prompt menu"
  var swe = prompt("Enter a Swedish word:"); // add a word in Swedish first


  var eng = prompt("Enter English translation:"); // then add its English translation


  // i dont know how to handle synonyms yet
  // I Think i need to do an array somehow 
   // if i press cancel it breaks the program...
  
  glossary.push({ swedish: swe, english: eng }); // When the user adds a word it goes to swedish or english push adds a new element to the end of an array. But collin dont want to call it element.. dont remember what he said.
  alert("Word added: " + swe + " -> " + eng); // Can i make symbols? insted instead of ->  use an arrow? or something else that suits better?
}

function listWords() { // this will list all words that have been added to the glossary on the page in html via document write. for now . // it will be number 2 in the "prompt menu"
  document.write("Glossary"); // document.write writes directly to the html document. and there i can show all words that have been added.
  if (glossary.length === 0) { // if there are no words in the glossary = "=== 0" 
    document.write("No words added yet."); // This will be written on the page.
  } else { // else if there are words in the glossary it will write all words that have been added.
    document.write(glossary); // This is not working. VS code gives me some autofill that i dont understand. 

    
  }
}

function startQuiz() { // this will start a quiz where the user can test their knowledge of the words in the glossary. // it will be number 3 in the "prompt menu"
  if (glossary.length === 0) { // if there are no words in the glossary = "=== 0" 
    alert("No words in glossary!"); // This alert will pop up.
    return; // return stops the function and goes back to the main "prompt menu"
  }

  // choose how to play the quiz 
  var direction = prompt("Choose quiz direction:\n1 = Swedish → English\n2 = English → Swedish");
  if (direction !== "1" && direction !== "2") {
    alert("Invalid choice.");
    return;
  }

  // pick a random word
  var index = Math.floor(Math.random() * glossary.length); // Math.random() gives a random number between 0 and 1. Math.floor() rounds down to the nearest whole number to make it work with, glossary.length, that gives the number of words in the glossary.
  var word = glossary[index]; // glossary[index] picks the random word object from the array.

  if (direction === "1") { // If direction is "1", the quiz asks to translate from Swedish to English. If "2", the quiz asks to translate from English to Swedish.
    var answer = prompt("Translate into English: " + word.swedish); //prompt box asking for the translation of the Swedish word.
    checkAnswer(answer, word.english); // checkAnswer function checks if the answer is correct.
  } else {
    var answer = prompt("Translate into Swedish: " + word.english[0]); // If "2" is chosen by user, the quiz asks to translate from English to Swedish.
    checkAnswer(answer, [word.swedish]); // checkAnswer function checks if the answer is correct. Same as above but checks the Swedish word list.
  }
}

function checkAnswer(answer, correctAnswers) { // This function checks if the user's answer is correct.
  if (!answer) {
    alert("No answer given."); // If the user presses cancel or leves the prompt empty, this alert will pop up. 
    return; // User will be returend to the "main menu".
  }

  var lower = answer.toLowerCase();// toLowerCase() method converts a string to lowercase letters. 
  var correct = false; // Assume the answer is incorrect first

  for (var i = 0; i < correctAnswers.length; i++) { 
    if (lower === correctAnswers[i].toLowerCase()) {
      correct = true; // if the asumption above was wrong it changes to true.
    }
  }

  if (correct) { // if it matches
    alert(" Correct!"); // The program will alert "Correct!" The User can press 
  } else {
    alert(" Wrong. Correct answer(s): " + correctAnswers.join(", ")); // The program will display the correct answer(s). But that is not working... Now it shows Glossary[object Object] on the screen (document write) and or the program is broken.,
  }
}

// ====== MAIN MENU LOOP ======
while (playing) { // pointing to the boolean variable set atop of the pogram under data. When changed to false the program will stop. (line 113 atm)
  var choice = prompt( // prompt box that will be the main menu of the program. \n is for a new line in the prompt box.
    "Glossary Trainer\n" + // 
    "1 = Add word\n" +
    "2 = List words\n" +
    "3 = Start quiz\n" +
    "4 = Quit" // the user can choose what to do in the program by entering 1, 2, 3 or 4. At this stage, it is easy to add more options if needed.
  );

  if (choice === "1") { 
    addWord(); // pointing to the function found under functions
  } else if (choice === "2") {
    listWords(); // pointing to the function listwords, this does not work yet. And i feel stuck. Also i dont know if document.write is the best way to show the words that have been added. But i dont want to dig to deep in to html.... 
  } else if (choice === "3") {
    startQuiz(); // pointing to the function startquiz, this does work. YEY!!
  } else if (choice === "4") {
    playing = false; // changes the boolean variable to false and stops the program.
    alert("Goodbye!"); // alert box that says goodbye when the user quits the program.
  } else {
    alert("Invalid choice."); // if the user enters something else than 1, 2, 3 or 4 this alert will pop up. and the program will go back to the main menu and the enterings made by the user is still there
  }
}




</script>

<!--
==============================
Notes will be put in readme
==============================



==============================
Updates will be published on github
==============================

-->

